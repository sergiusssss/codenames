<html>
    <head>
        <script 
            src="https://code.jquery.com/jquery-3.6.1.min.js" 
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
        <script 
            src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js" 
            integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="/style.css">
    </head>
    <body>
        <nav>
            <a href="/create.html">Create</a>
            <a href="/game.html">Game</a>
        </nav><br>
        <table class="table game">
            <tbody>
                <tr>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                </tr>
                <tr>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                </tr>
                <tr>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                </tr>
                <tr>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                </tr>
                <tr>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                    <td><button class="">5</button></td>
                </tr>
            </tbody>
        </table>
        <br>
        <div>
            <button  class="select" data-value="3">RED</button>
            <button  class="select" data-value="2">BLUE</button>
            <button  class="select" data-value="1">WHITE</button>
            <button  class="select" data-value="0">BLACK</button>
        </div>

        <br>
        <div>
            <!-- <form action="#">
                <input type="text" name="result" id="">
                <button>Check</button>
            </form><br> -->
            <!-- <button class="clear">Clear</button> -->
        </div>

        <div class="render"></div>

        <script>
            window.selectedValue = 0;
            var array = '';

            $(function () {
                $(document).on('click', '.select', function (event) {
                    $('.active').removeClass('active');
                    window.selectedValue = Number($(this).data('value'));
                    $(this).addClass('active');
                });

                var removeColorClass = function (el) {
                    $(el).removeClass('black');
                    $(el).removeClass('blue');
                    $(el).removeClass('red');
                    $(el).removeClass('white');
                }

                $(document).on('click', '.table button', function (event) {
                    $(this).text(window.selectedValue);

                    switch (window.selectedValue) {
                        case 0:
                            removeColorClass($(this));
                            $(this).addClass('black');
                            break;
                        case 1:
                            removeColorClass($(this));
                            $(this).addClass('white');
                            break;
                        case 2:
                            removeColorClass($(this));
                            $(this).addClass('blue');
                            break;
                        case 3:
                            removeColorClass($(this));
                            $(this).addClass('red');
                            break;
                    }

                    var result = [];

                    $('.table tr').each(function (i, trEl) {
                        var parent = $(trEl);

                        parent.find('td').each(function (j, tdEl) {
                            result.push(Number($(tdEl).text()));
                        });
                    });

                    console.log(JSON.stringify(result));
                })

                // $(document).on('click', '.check', function (event) {
                //     var result = [];

                //     $('.table tr').each(function (i, trEl) {
                //         var parent = $(trEl);

                //         parent.find('td').each(function (j, tdEl) {
                //             result.push(Number($(tdEl).text()));
                //         });
                //     });

                //     console.log(JSON.stringify(result));
                // });

                // $(document).on('click', '.clear', function () {
                //     document.location.reload();
                // });
            });
        </script>
    </body>
</html>
